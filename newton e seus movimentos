import pygame

Htela = 600
Ltela = 800
FPS = 30

white = (255,255,255)
black = (0,0,0)
red = (255,0,0)
green = (0,255,0)
blue = (0,0,255)


yvelocity = []
i = -12
var = 0.5
cair = -i 
while i <= cair:
    yvelocity.append(i)
    i += var


pygame.init()

tela = pygame.display.set_mode((Ltela,Htela))
pygame.display.set_caption("JOGO NO NEWTON")
clock = pygame.time.Clock()


class Newton(pygame.sprite.Sprite):
    
    def __init__(self, imagem, x, y):
        pygame.sprite.Sprite.__init__(self)
        self.image = pygame.image.load(imagem)
        self.rect = self.image.get_rect()
        self.rect.x = x
        self.rect.y = y
        self.xspeed = 0
        self.velocity_index = 0
        self.platform_y = 400
        self.jumping = False
        
    def move(self):
        self.xspeed = 0
        key = pygame.key.get_pressed()
        if key[pygame.K_LEFT]:
            self.xspeed = -8
        if key[pygame.K_RIGHT]:
            self.xspeed = 8
        self.rect.x += self.xspeed
                
    def jump(self):
        global yvelocity
        if self.jumping:
            verticalV = yvelocity[self.velocity_index]
            self.rect.y += verticalV
            self.velocity_index += 1
            if self.velocity_index >= len(yvelocity) - 1:
                self.velocity_index = len(yvelocity) - 1
            if self.rect.y > self.platform_y:
                self.rect.y = self.platform_y
                self.velocity_index = 0
        self.jumping = False
            
            
    def do_jump(self):
        key = pygame.key.get_pressed()
        if key[pygame.K_UP] and self.jumping == False:
            self.jumping = True
            self.jump()
    
    def do(self):
        self.do_jump()
        self.move()
        
newton = Newton('newton.png',(100),(400))
newton_group = pygame.sprite.Group()
newton_group.add(newton)
  
        

        
vidas = 3

while vidas >= 0:
    
    clock.tick(FPS)
    key = pygame.key.get_pressed()
    
    for event in pygame.event.get():
    #exit
        if event.type == pygame.QUIT:
            vidas = -1
    #Newton's movement
    newton.do()  
         
    tela.fill(white)
    newton_group.draw(tela)
    pygame.display.update()     
    
pygame.display.quit()
        
